<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>merkletree</title>
  <meta charset="utf-8" />
  <link rel="stylesheet" type="text/css" href="css/main.css" />
  <link rel="stylesheet" type="text/css" href="css/normalize.css" />
  <link rel="stylesheet" type="text/css" href="css/ghp.css" />
</head>
<body>
<div class="content">
<h1 class="libTop">merkletree</h1>

<h2>What It Does</h2>
<p><strong>merkletree</strong> is a Python package for creating a
<a href="https://en.wikipedia.org/wiki/Merkle_tree">Merkle tree</a>
for a
directory structure.  A <strong>Merkle tree</strong> is a representation of the contents
of the directory and its subdirectories in terms of <em>hashes</em>.  In this case,
the hashes used are those specified in various versions of the
<a href="https://en.wikipedia.org/wiki/Secure_Hash_Algorithm">Secure Hash Algorithm</a>,
a Federal cryptographic standard for securely deriving a (relatively) short
number which can be used to uniquely identify a document.</p>
<p>A file is represented by the hash of its
contents.  A directory is represented by the hash of the hashes
of its members, sorted by file name.  This makes it very easy to verify the
contents of a directory:</p>
<pre><code>merkleize -x -i  .
</code></pre>
<p>outputs a single hash, a hexadecimal number.  If any file in the
directory structure has been changed, the output from the above
command will also change.</p>
<h2>SHA, the Secure Hash Algorithm</h2>
<p>This package uses hash algorithms specified in the
<a href="http://csrc.nist.gov/publications/fips/fips180-4/fips-180-4.pdf">Secure Hash Standard</a>
for hashing.  This is a standard published by the US National Institute of
Standards and Techology (<strong>NIST</strong>).</p>
<p>SHA is a cryptographically secure hash, meaning that for all
practical purposes it is impossible to find two documents with the same hash.
In other words, the SHA hashes are meant to be <strong>one-way</strong>: given a document,
it is very easy to determine its SHA hash, but given such a hash the only
practical way to find out what document it corresponds to is to hash all
candidate matches and compare the resultant hash with the one you are searching
for.</p>
<p><strong>merkletree</strong> currently uses either the older 160 bit/20 byte <strong>SHA-1</strong>
or the more recent and more secure <strong>SHA-256</strong> or <strong>SHA-3</strong>, where the latter
two are 256 bit/32 byte hashes.</p>
<h2>What It's Used For</h2>
<p>Verifying the integrity of file systems, of directory structures.</p>
<h2>Command Line</h2>
<pre><code>usage: merkleize [-h] [-d OUT_DIR] [-I INDENT] [-i IN_DIR] [-j] [-m]
                 [-o OUT_FILE] [-P MATCH_PAT] [-t] [-V] [-x] [-X EXCLUDE] [-1]
                 [-2] [-3] [-u U_PATH] [-v]

generate the merkletree corresponding to a directory

optional arguments:
  -h, --help            show this help message and exit
  -d OUT_DIR, --out_dir OUT_DIR
                        write serialized merkletree here
  -I INDENT, --indent INDENT
                        number of spaces to indent list (default=1)
  -i IN_DIR, --in_dir IN_DIR
                        write serialized merkletree here
  -j, --just_show       show options and exit
  -m, --show_tree       output the merkletree hash+filename lines
  -o OUT_FILE, --out_file OUT_FILE
                        write output to this file (default = timestamp)
  -P MATCH_PAT, --match_pat MATCH_PAT
                        include only files with matching names
  -t, --showTimestamp   output UTC time
  -V, --show_version    output the version number of this program
  -x, --hash_output     output the top level hash
  -X EXCLUDE, --exclude EXCLUDE
                        ignore files matching this pattern
  -1, --using_sha1      using the 160-bit SHA1 hash
  -2, --using_sha2      using the 256-bit SHA2 (SHA256) hash
  -3, --using_sha3      using the 256-bit SHA3 (Keccak-256) hash
  -u U_PATH, --u_path U_PATH
                        path to uDir
  -v, --verbose         be chatty
</code></pre>
<p>The default output file name is the UTC timestamp, the number of seconds
since the epoch (1970-01-01), where 'UTC' is more or less the same of
GMT, Greenwich Mean Time.</p>
<h2>Relationships</h2>
<p>Merkletree was implemented as part of the <a href="http://www.xlattice.org">XLattice</a>
project.  A Go language implementation forms part of
<a href="https://jddixon.github.io/xlattice_go">xlattice_go</a>.</p>
<h2>Project Status</h2>
<p>Merkletree has been in use for several years.  There are no known bugs.</p>
<h2>Licensing</h2>
<p><a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a><br />The material on this github.io website is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</p>
<p>Project software is licensed under an MIT license.
Follow the SOFTWARE LICENSE link below for more information on project software licensing.</p>  <div class="f">
    <hr />
    <div class="license">
      <p><a href="LICENSE-MIT.html">SOFTWARE LICENSE</a></p>
    </div>
    <div class="project">
      github <a href="https://github.com/jddixon/merkletree">      <img src="img/GitHub-Mark-32px.png" 
        alt="link to project"  
        style="display: inline-block; margin-left: 0 auto; margin-right: 0 auto">
       </a> project
    </div>
    <div class="logo" >
      <a href="https://jddixon.github.io/xlattice/">
      <img src="img/xlattice-2014.jpg" alt="the XLattice Project" style="float: right;" >
      </a>
    </div>
  </div>
</div>
</body>
</html>
